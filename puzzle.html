<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Puzzle Surprise ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
}

h1 { margin-bottom: 10px; }

#puzzle {
    width: 300px;
    height: 300px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    border: 3px solid white;
}

.tile {
    position: relative;
    overflow: hidden;
    cursor: pointer;
    border: 1px solid black;
}

.tile img {
    position: absolute;
    width: 300px;
    height: 300px;
}

.hidden img {
    display: none;
}

#winMessage {
    display: none;
    margin-top: 20px;
    font-size: 24px;
    text-align: center;
    animation: glow 1.5s infinite alternate;
}

@keyframes glow {
    from { text-shadow: 0 0 10px pink; }
    to { text-shadow: 0 0 25px white; }
}
</style>
</head>

<body>

<h1>üß© Complete the Puzzle</h1>
<p>Tap tiles to complete it üíï</p>

<div id="puzzle"></div>

<div id="winMessage">
    üéâ Yayyy ü•π<br>
    You win my heart ‚ù§Ô∏è
</div>

<script>
const puzzle = document.getElementById("puzzle");
const size = 3;
let tiles = [];

function createPuzzle() {
    puzzle.innerHTML = "";
    tiles = [...Array(size * size).keys()].sort(() => Math.random() - 0.5);

    tiles.forEach((num, index) => {
        const tile = document.createElement("div");
        tile.className = "tile";

        const img = document.createElement("img");
        img.src = "puzzle.jpg";

        const x = (num % size) * -100;
        const y = Math.floor(num / size) * -100;
        img.style.left = x + "px";
        img.style.top = y + "px";

        if (num === size * size - 1) {
            tile.classList.add("hidden");
        }

        tile.appendChild(img);
        tile.addEventListener("click", () => moveTile(index));
        puzzle.appendChild(tile);
    });
}

function moveTile(index) {
    const emptyIndex = tiles.indexOf(size * size - 1);
    const validMoves = [
        emptyIndex - 1,
        emptyIndex + 1,
        emptyIndex - size,
        emptyIndex + size
    ];

    if (validMoves.includes(index)) {
        [tiles[index], tiles[emptyIndex]] = [tiles[emptyIndex], tiles[index]];
        createPuzzle();
        checkWin();
    }
}

function checkWin() {
    for (let i = 0; i < tiles.length; i++) {
        if (tiles[i] !== i) return;
    }
    document.getElementById("winMessage").style.display = "block";
}

createPuzzle();
</script>

</body>
</html>
